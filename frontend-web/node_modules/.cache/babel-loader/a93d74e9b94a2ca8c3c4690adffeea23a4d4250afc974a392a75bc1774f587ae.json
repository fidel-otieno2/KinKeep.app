{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/prjct/KinKeep.app/frontend-web/src/components/FilterCamera.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterCamera = ({\n  onCapture,\n  onClose\n}) => {\n  _s();\n  var _filters$find2;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [selectedFilter, setSelectedFilter] = useState('none');\n  const filters = [{\n    id: 'none',\n    name: 'Original',\n    style: ''\n  }, {\n    id: 'sepia',\n    name: 'Vintage',\n    style: 'sepia(100%)'\n  }, {\n    id: 'grayscale',\n    name: 'B&W',\n    style: 'grayscale(100%)'\n  }, {\n    id: 'blur',\n    name: 'Soft',\n    style: 'blur(2px)'\n  }, {\n    id: 'brightness',\n    name: 'Bright',\n    style: 'brightness(150%)'\n  }, {\n    id: 'contrast',\n    name: 'Pop',\n    style: 'contrast(150%)'\n  }];\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          facingMode: 'user'\n        },\n        audio: false\n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n    }\n  };\n  const capturePhoto = () => {\n    var _filters$find;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.filter = ((_filters$find = filters.find(f => f.id === selectedFilter)) === null || _filters$find === void 0 ? void 0 : _filters$find.style) || '';\n    context.drawImage(video, 0, 0);\n    canvas.toBlob(blob => {\n      const file = new File([blob], 'photo.jpg', {\n        type: 'image/jpeg'\n      });\n      onCapture(file);\n    }, 'image/jpeg', 0.9);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: \"w-full h-full object-cover\",\n        style: {\n          filter: (_filters$find2 = filters.find(f => f.id === selectedFilter)) === null || _filters$find2 === void 0 ? void 0 : _filters$find2.style\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-4 right-4 flex justify-between items-center z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-white p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-white font-medium\",\n          children: \"Camera\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-32 left-0 right-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2 px-4 overflow-x-auto\",\n          children: filters.map(filter => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedFilter(filter.id),\n            className: `flex-shrink-0 w-16 h-16 rounded-full border-2 ${selectedFilter === filter.id ? 'border-white' : 'border-gray-400'} bg-gray-600 flex items-center justify-center`,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white text-xs\",\n              children: filter.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)\n          }, filter.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-8 left-1/2 transform -translate-x-1/2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capturePhoto,\n          className: \"w-16 h-16 bg-white rounded-full border-4 border-gray-300 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 bg-white rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterCamera, \"szB8VfHosiP4QGqVbismeoB95Y4=\");\n_c = FilterCamera;\nexport default FilterCamera;\nvar _c;\n$RefreshReg$(_c, \"FilterCamera\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","FilterCamera","onCapture","onClose","_s","_filters$find2","videoRef","canvasRef","stream","setStream","selectedFilter","setSelectedFilter","filters","id","name","style","startCamera","getTracks","forEach","track","stop","mediaStream","navigator","mediaDevices","getUserMedia","video","facingMode","audio","current","srcObject","error","console","capturePhoto","_filters$find","canvas","context","getContext","width","videoWidth","height","videoHeight","filter","find","f","drawImage","toBlob","blob","file","File","type","className","children","ref","autoPlay","playsInline","muted","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","_c","$RefreshReg$"],"sources":["/home/moringa/Documents/prjct/KinKeep.app/frontend-web/src/components/FilterCamera.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst FilterCamera = ({ onCapture, onClose }) => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [selectedFilter, setSelectedFilter] = useState('none');\n\n  const filters = [\n    { id: 'none', name: 'Original', style: '' },\n    { id: 'sepia', name: 'Vintage', style: 'sepia(100%)' },\n    { id: 'grayscale', name: 'B&W', style: 'grayscale(100%)' },\n    { id: 'blur', name: 'Soft', style: 'blur(2px)' },\n    { id: 'brightness', name: 'Bright', style: 'brightness(150%)' },\n    { id: 'contrast', name: 'Pop', style: 'contrast(150%)' },\n  ];\n\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'user' }, \n        audio: false \n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n    }\n  };\n\n  const capturePhoto = () => {\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    \n    context.filter = filters.find(f => f.id === selectedFilter)?.style || '';\n    context.drawImage(video, 0, 0);\n    \n    canvas.toBlob((blob) => {\n      const file = new File([blob], 'photo.jpg', { type: 'image/jpeg' });\n      onCapture(file);\n    }, 'image/jpeg', 0.9);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black z-50\">\n      <div className=\"relative h-full\">\n        <video\n          ref={videoRef}\n          autoPlay\n          playsInline\n          muted\n          className=\"w-full h-full object-cover\"\n          style={{ filter: filters.find(f => f.id === selectedFilter)?.style }}\n        />\n        \n        <canvas ref={canvasRef} className=\"hidden\" />\n        \n        {/* Header */}\n        <div className=\"absolute top-4 left-4 right-4 flex justify-between items-center z-10\">\n          <button onClick={onClose} className=\"text-white p-2\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          <h2 className=\"text-white font-medium\">Camera</h2>\n          <div></div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"absolute bottom-32 left-0 right-0\">\n          <div className=\"flex space-x-2 px-4 overflow-x-auto\">\n            {filters.map((filter) => (\n              <button\n                key={filter.id}\n                onClick={() => setSelectedFilter(filter.id)}\n                className={`flex-shrink-0 w-16 h-16 rounded-full border-2 ${\n                  selectedFilter === filter.id ? 'border-white' : 'border-gray-400'\n                } bg-gray-600 flex items-center justify-center`}\n              >\n                <span className=\"text-white text-xs\">{filter.name}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Capture Button */}\n        <div className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2\">\n          <button\n            onClick={capturePhoto}\n            className=\"w-16 h-16 bg-white rounded-full border-4 border-gray-300 flex items-center justify-center\"\n          >\n            <div className=\"w-12 h-12 bg-white rounded-full\"></div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FilterCamera;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}