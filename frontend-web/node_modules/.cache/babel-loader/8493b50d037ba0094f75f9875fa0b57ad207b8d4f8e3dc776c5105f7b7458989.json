{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/prjct/KinKeep.app/frontend-web/src/components/OnboardingFlow.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OnboardingFlow = ({\n  user,\n  onComplete\n}) => {\n  _s();\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState({\n    name: (user === null || user === void 0 ? void 0 : user.name) || '',\n    username: '',\n    profileImage: null,\n    followedUsers: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [usernameError, setUsernameError] = useState('');\n  const [suggestedUsers, setSuggestedUsers] = useState([]);\n  const validateUsername = username => {\n    const regex = /^[a-zA-Z0-9._]{3,30}$/;\n    if (!regex.test(username)) {\n      return 'Username can only contain letters, numbers, dots, and underscores (3-30 characters)';\n    }\n    if (username.startsWith('.') || username.endsWith('.')) {\n      return 'Username cannot start or end with a dot';\n    }\n    if (username.includes('..')) {\n      return 'Username cannot contain consecutive dots';\n    }\n    return '';\n  };\n  const handleUsernameChange = value => {\n    setFormData({\n      ...formData,\n      username: value\n    });\n    setUsernameError(validateUsername(value));\n  };\n  const handleImageUpload = async file => {\n    const uploadFormData = new FormData();\n    uploadFormData.append('file', file);\n    uploadFormData.append('type', 'image');\n    uploadFormData.append('folder', 'profiles');\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5001'}/upload`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n        },\n        body: uploadFormData\n      });\n      const result = await response.json();\n      if (result.url) {\n        setFormData({\n          ...formData,\n          profileImage: result.url\n        });\n      }\n    } catch (error) {\n      console.error('Error uploading image:', error);\n    }\n  };\n  const fetchSuggestedUsers = async () => {\n    try {\n      var _response$posts;\n      const response = await apiService.getPosts({\n        limit: 10\n      });\n      const users = ((_response$posts = response.posts) === null || _response$posts === void 0 ? void 0 : _response$posts.map(post => post.author).filter(Boolean)) || [];\n      setSuggestedUsers(users.slice(0, 6));\n    } catch (error) {\n      console.error('Error fetching suggested users:', error);\n    }\n  };\n  const handleFollowUser = userId => {\n    const isFollowing = formData.followedUsers.includes(userId);\n    const newFollowed = isFollowing ? formData.followedUsers.filter(id => id !== userId) : [...formData.followedUsers, userId];\n    setFormData({\n      ...formData,\n      followedUsers: newFollowed\n    });\n  };\n  const handleNext = async () => {\n    if (step === 2 && usernameError) return;\n    if (step === 3) {\n      await fetchSuggestedUsers();\n    }\n    if (step === 4) {\n      await completeOnboarding();\n      return;\n    }\n    setStep(step + 1);\n  };\n  const completeOnboarding = async () => {\n    setLoading(true);\n    try {\n      await apiService.updateProfile({\n        name: formData.name,\n        username: formData.username,\n        profile_image: formData.profileImage\n      });\n      for (const userId of formData.followedUsers) {\n        try {\n          await apiService.followUser(userId);\n        } catch (error) {\n          console.error('Error following user:', error);\n        }\n      }\n      onComplete();\n    } catch (error) {\n      console.error('Error completing onboarding:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderStep = () => {\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-12 h-12 text-white\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-4\",\n            children: \"Welcome to KinKeep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-8\",\n            children: \"Let's set up your profile to connect with family and preserve memories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            className: \"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors\",\n            children: \"Get Started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-6 text-center\",\n            children: \"Choose your name and username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.name,\n                onChange: e => setFormData({\n                  ...formData,\n                  name: e.target.value\n                }),\n                className: \"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\",\n                style: {\n                  color: '#000000 !important',\n                  backgroundColor: '#ffffff !important',\n                  WebkitTextFillColor: '#000000 !important'\n                },\n                placeholder: \"Enter your full name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.username,\n                onChange: e => handleUsernameChange(e.target.value),\n                className: `w-full p-3 border rounded-lg focus:outline-none ${usernameError ? 'border-red-500' : 'border-gray-300 focus:border-blue-500'}`,\n                style: {\n                  color: '#000000 !important',\n                  backgroundColor: '#ffffff !important',\n                  WebkitTextFillColor: '#000000 !important'\n                },\n                placeholder: \"username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), usernameError && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-sm mt-1\",\n                children: usernameError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 35\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-sm mt-1\",\n                children: \"Use letters, numbers, dots, and underscores only\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            disabled: !formData.name || !formData.username || usernameError,\n            className: \"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-6 text-center\",\n            children: \"Add a profile photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden border-4 border-gray-200\",\n              children: formData.profileImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.profileImage,\n                alt: \"Profile\",\n                className: \"w-full h-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full h-full bg-gray-100 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-12 h-12 text-gray-400\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inline-block bg-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors cursor-pointer\",\n              children: [formData.profileImage ? 'Change Photo' : 'Add Photo', /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: e => e.target.files[0] && handleImageUpload(e.target.files[0]),\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm mt-4\",\n              children: \"Help people recognize you\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            className: \"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors mt-8\",\n            children: formData.profileImage ? 'Next' : 'Skip for now'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-6 text-center\",\n            children: \"Follow people you know\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: suggestedUsers.map(suggestedUser => {\n              var _suggestedUser$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-3 border border-gray-200 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-white font-medium\",\n                      children: (_suggestedUser$name = suggestedUser.name) === null || _suggestedUser$name === void 0 ? void 0 : _suggestedUser$name.charAt(0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium\",\n                      children: suggestedUser.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"@\", suggestedUser.username || 'user']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleFollowUser(suggestedUser.id),\n                  className: `px-4 py-2 rounded-lg font-medium transition-colors ${formData.followedUsers.includes(suggestedUser.id) ? 'bg-gray-200 text-gray-700' : 'bg-blue-500 text-white hover:bg-blue-600'}`,\n                  children: formData.followedUsers.includes(suggestedUser.id) ? 'Following' : 'Follow'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)]\n              }, suggestedUser.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNext,\n            disabled: loading,\n            className: \"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6\",\n            children: loading ? 'Setting up...' : 'Continue'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg w-full max-w-md p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mb-2\",\n          children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${i <= step ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-500'}`,\n            children: i\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-500 h-2 rounded-full transition-all duration-300\",\n            style: {\n              width: `${step / 4 * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), renderStep()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s(OnboardingFlow, \"n2YCggDfPZXnUGSrHH5X5mus6cw=\");\n_c = OnboardingFlow;\nexport default OnboardingFlow;\nvar _c;\n$RefreshReg$(_c, \"OnboardingFlow\");","map":{"version":3,"names":["React","useState","apiService","jsxDEV","_jsxDEV","OnboardingFlow","user","onComplete","_s","step","setStep","formData","setFormData","name","username","profileImage","followedUsers","loading","setLoading","usernameError","setUsernameError","suggestedUsers","setSuggestedUsers","validateUsername","regex","test","startsWith","endsWith","includes","handleUsernameChange","value","handleImageUpload","file","uploadFormData","FormData","append","response","fetch","process","env","REACT_APP_API_URL","method","headers","localStorage","getItem","body","result","json","url","error","console","fetchSuggestedUsers","_response$posts","getPosts","limit","users","posts","map","post","author","filter","Boolean","slice","handleFollowUser","userId","isFollowing","newFollowed","id","handleNext","completeOnboarding","updateProfile","profile_image","followUser","renderStep","className","children","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","e","target","style","color","backgroundColor","WebkitTextFillColor","placeholder","disabled","src","alt","stroke","strokeLinecap","strokeLinejoin","strokeWidth","accept","files","suggestedUser","_suggestedUser$name","charAt","i","width","_c","$RefreshReg$"],"sources":["/home/moringa/Documents/prjct/KinKeep.app/frontend-web/src/components/OnboardingFlow.js"],"sourcesContent":["import React, { useState } from 'react';\nimport apiService from '../services/api';\n\nconst OnboardingFlow = ({ user, onComplete }) => {\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState({\n    name: user?.name || '',\n    username: '',\n    profileImage: null,\n    followedUsers: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [usernameError, setUsernameError] = useState('');\n  const [suggestedUsers, setSuggestedUsers] = useState([]);\n\n  const validateUsername = (username) => {\n    const regex = /^[a-zA-Z0-9._]{3,30}$/;\n    if (!regex.test(username)) {\n      return 'Username can only contain letters, numbers, dots, and underscores (3-30 characters)';\n    }\n    if (username.startsWith('.') || username.endsWith('.')) {\n      return 'Username cannot start or end with a dot';\n    }\n    if (username.includes('..')) {\n      return 'Username cannot contain consecutive dots';\n    }\n    return '';\n  };\n\n  const handleUsernameChange = (value) => {\n    setFormData({...formData, username: value});\n    setUsernameError(validateUsername(value));\n  };\n\n  const handleImageUpload = async (file) => {\n    const uploadFormData = new FormData();\n    uploadFormData.append('file', file);\n    uploadFormData.append('type', 'image');\n    uploadFormData.append('folder', 'profiles');\n    \n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5001'}/upload`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n        },\n        body: uploadFormData\n      });\n      \n      const result = await response.json();\n      if (result.url) {\n        setFormData({...formData, profileImage: result.url});\n      }\n    } catch (error) {\n      console.error('Error uploading image:', error);\n    }\n  };\n\n  const fetchSuggestedUsers = async () => {\n    try {\n      const response = await apiService.getPosts({ limit: 10 });\n      const users = response.posts?.map(post => post.author).filter(Boolean) || [];\n      setSuggestedUsers(users.slice(0, 6));\n    } catch (error) {\n      console.error('Error fetching suggested users:', error);\n    }\n  };\n\n  const handleFollowUser = (userId) => {\n    const isFollowing = formData.followedUsers.includes(userId);\n    const newFollowed = isFollowing \n      ? formData.followedUsers.filter(id => id !== userId)\n      : [...formData.followedUsers, userId];\n    \n    setFormData({...formData, followedUsers: newFollowed});\n  };\n\n  const handleNext = async () => {\n    if (step === 2 && usernameError) return;\n    \n    if (step === 3) {\n      await fetchSuggestedUsers();\n    }\n    \n    if (step === 4) {\n      await completeOnboarding();\n      return;\n    }\n    \n    setStep(step + 1);\n  };\n\n  const completeOnboarding = async () => {\n    setLoading(true);\n    try {\n      await apiService.updateProfile({\n        name: formData.name,\n        username: formData.username,\n        profile_image: formData.profileImage\n      });\n\n      for (const userId of formData.followedUsers) {\n        try {\n          await apiService.followUser(userId);\n        } catch (error) {\n          console.error('Error following user:', error);\n        }\n      }\n\n      onComplete();\n    } catch (error) {\n      console.error('Error completing onboarding:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderStep = () => {\n    switch (step) {\n      case 1:\n        return (\n          <div className=\"text-center\">\n            <div className=\"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center\">\n              <svg className=\"w-12 h-12 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n              </svg>\n            </div>\n            <h2 className=\"text-2xl font-bold mb-4\">Welcome to KinKeep</h2>\n            <p className=\"text-gray-600 mb-8\">Let's set up your profile to connect with family and preserve memories</p>\n            <button \n              onClick={handleNext}\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors\"\n            >\n              Get Started\n            </button>\n          </div>\n        );\n\n      case 2:\n        return (\n          <div>\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Choose your name and username</h2>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Full Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                  style={{color: '#000000 !important', backgroundColor: '#ffffff !important', WebkitTextFillColor: '#000000 !important'}}\n                  placeholder=\"Enter your full name\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Username</label>\n                <input\n                  type=\"text\"\n                  value={formData.username}\n                  onChange={(e) => handleUsernameChange(e.target.value)}\n                  className={`w-full p-3 border rounded-lg focus:outline-none ${usernameError ? 'border-red-500' : 'border-gray-300 focus:border-blue-500'}`}\n                  style={{color: '#000000 !important', backgroundColor: '#ffffff !important', WebkitTextFillColor: '#000000 !important'}}\n                  placeholder=\"username\"\n                />\n                {usernameError && <p className=\"text-red-500 text-sm mt-1\">{usernameError}</p>}\n                <p className=\"text-gray-500 text-sm mt-1\">Use letters, numbers, dots, and underscores only</p>\n              </div>\n            </div>\n            \n            <button \n              onClick={handleNext}\n              disabled={!formData.name || !formData.username || usernameError}\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6\"\n            >\n              Next\n            </button>\n          </div>\n        );\n\n      case 3:\n        return (\n          <div>\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Add a profile photo</h2>\n            \n            <div className=\"text-center\">\n              <div className=\"w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden border-4 border-gray-200\">\n                {formData.profileImage ? (\n                  <img src={formData.profileImage} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n                    <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                  </div>\n                )}\n              </div>\n              \n              <label className=\"inline-block bg-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors cursor-pointer\">\n                {formData.profileImage ? 'Change Photo' : 'Add Photo'}\n                <input \n                  type=\"file\" \n                  accept=\"image/*\" \n                  onChange={(e) => e.target.files[0] && handleImageUpload(e.target.files[0])} \n                  className=\"hidden\" \n                />\n              </label>\n              \n              <p className=\"text-gray-500 text-sm mt-4\">Help people recognize you</p>\n            </div>\n            \n            <button \n              onClick={handleNext}\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors mt-8\"\n            >\n              {formData.profileImage ? 'Next' : 'Skip for now'}\n            </button>\n          </div>\n        );\n\n      case 4:\n        return (\n          <div>\n            <h2 className=\"text-2xl font-bold mb-6 text-center\">Follow people you know</h2>\n            \n            <div className=\"space-y-3\">\n              {suggestedUsers.map((suggestedUser) => (\n                <div key={suggestedUser.id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-400 flex items-center justify-center\">\n                      <span className=\"text-white font-medium\">{suggestedUser.name?.charAt(0)}</span>\n                    </div>\n                    <div>\n                      <p className=\"font-medium\">{suggestedUser.name}</p>\n                      <p className=\"text-sm text-gray-500\">@{suggestedUser.username || 'user'}</p>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => handleFollowUser(suggestedUser.id)}\n                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                      formData.followedUsers.includes(suggestedUser.id)\n                        ? 'bg-gray-200 text-gray-700'\n                        : 'bg-blue-500 text-white hover:bg-blue-600'\n                    }`}\n                  >\n                    {formData.followedUsers.includes(suggestedUser.id) ? 'Following' : 'Follow'}\n                  </button>\n                </div>\n              ))}\n            </div>\n            \n            <button \n              onClick={handleNext}\n              disabled={loading}\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6\"\n            >\n              {loading ? 'Setting up...' : 'Continue'}\n            </button>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-8\">\n        {/* Progress bar */}\n        <div className=\"mb-8\">\n          <div className=\"flex justify-between mb-2\">\n            {[1, 2, 3, 4].map((i) => (\n              <div\n                key={i}\n                className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                  i <= step ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-500'\n                }`}\n              >\n                {i}\n              </div>\n            ))}\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div \n              className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n              style={{ width: `${(step / 4) * 100}%` }}\n            ></div>\n          </div>\n        </div>\n\n        {renderStep()}\n      </div>\n    </div>\n  );\n};\n\nexport default OnboardingFlow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}